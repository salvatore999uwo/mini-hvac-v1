int main(void) {
    HAL_Init();
    SystemClock_Config();
    GPIO_Init();
    ADC_Init();

    while (1) {
        current_temperature = Read_Temperature();

        if (HAL_GPIO_ReadPin(BUTTON_GPIO_PORT, BUTTON_UP_PIN) == GPIO_PIN_RESET) {
            if (temperature_setpoint < TEMP_SETPOINT_MAX) {
                temperature_setpoint += TEMP_SETPOINT_STEP;
            }
            HAL_Delay(200); // debounce delay
        }

        if (HAL_GPIO_ReadPin(BUTTON_GPIO_PORT, BUTTON_DOWN_PIN) == GPIO_PIN_RESET) {
            if (temperature_setpoint > TEMP_SETPOINT_MIN) {
                temperature_setpoint -= TEMP_SETPOINT_STEP;
            }
            HAL_Delay(200); // debounce delay
        }

        Control_Heater(temperature_setpoint, current_temperature);
        HAL_Delay(1000); // read temperature every second
    }
}
